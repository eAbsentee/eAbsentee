{% extends "base.html" %}

{% block head %}
{{ super() }}

<link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.min.css') }}">
<!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.theme.min.css') }}"> -->
<script src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>

<script src="{{ url_for('static', filename='js/form_functions.js') }}"></script>
<script src="{{ url_for('static', filename='js/form_autofill.js') }}"></script>

<script src="https://www.unpkg.com/inputmask@5.0.6/dist/jquery.inputmask.min.js" integrity="sha384-mcrkfPXC1YDoY+zXOHvyNuhUVO2zdEb5+ebHe5SL8DW2BSHmZw4tfFMv8jT9i/+2" crossorigin="anonymous" defer></script>
<script src="https://www.unpkg.com/inputmask@5.0.6/dist/bindings/inputmask.binding.js" integrity="sha384-5/QNW3hy8X5q6O99uGaZYeL9LVtNdXFnoRfE91OuDev2Z76uc4PM0JEyO/sPV9TH" crossorigin="anonymous" defer></script>
{% endblock %}

{% block content %}
<div class="container col-12 col-md-8 mx-auto mt-2 pb-2">
  <div class="card border-dark mx-auto">
    <div class="card-body rounded-top card-body col-lg-12" style="background: #0052A5">
      <h1 class="text-capitalize text-center text-light">{{ gettext("Vote by Mail") }}</h1>
      <h2 class="text-center text-light">{{ gettext("Apply for Your Absentee Ballot Today") }}</h2>
      <div class="">
        <br>
        <ul>
          <li><p class="text-light font-weight-bold mb-1">{{ gettext("The mail-in ballot application deadline for the 2023 Virginia primary election was 5pm Friday, June 9th and has now passed. You are now able to apply to vote by mail in the general election.") }}</p></li>
          <li><p class="text-light font-weight-bold mb-1">{{ gettext("Effective July 1st, 2020, any registered Virginia voter can request an absentee mail-in ballot. No reason is required!") }}</p></li>
          <!-- <li><p class="text-light font-weight-bold mb-1">{{ gettext("Now is the best time to apply for your absentee mail-in ballot, in order to avoid the rush. Ballots for the November 3rd Election will be mailed out to voters beginning September 18th.") }}</p></li> -->
          <li><p class="text-light font-weight-bold mb-1">{{ gettext("The mail-in ballot application deadline for the general election is 5pm Friday, October 27th. Apply now to reduce any possible delays.") }}</p></li>
          <!-- <li><p class="text-light font-weight-bold mb-1">{{ gettext("Return your completed mail-in ballot to the registrar as soon as possible. The last day to send it in is November 3rd and it must be receieved by November 6th.") }}</p></li> -->
          <li><p class="text-light font-weight-bold mb-1">{{ gettext("Does your voter record need to be updated for a change in your name or address? You can do so at the end of this absentee mail-in ballot application.") }}</p></li>
          <li><p class="text-light font-weight-bold mb-1">{{ gettext("If you are not registered to vote, ") }} <u><a href="https://www.elections.virginia.gov/citizen-portal/" class="link-light" target="_blank" rel="noopener">{{ gettext("register to vote here") }}</a></u> {{ gettext("first, then return to eAbsentee to complete your application.") }}</p></li>
        </ul>
      </div>


    </div>

    <form method="POST" class="needs-validation" id="applicant-form" novalidate>
      <div class="card-body rounded-0 border-dark">
        <!-- Your Information -->
        <div class="row mx-auto g-3">
          <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="text-center text-capitalize">{{ gettext("Your Information") }}</h3>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="name_first" name="name_first" placeholder="John" required>
              <label for="name_first" class="form-label">{{ gettext("First Name") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="name_last" name="name_last" placeholder="Doe" required>
              <label for="name_last" class="form-label">{{ gettext("Last Name") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="name_middle" name="name_middle" placeholder="Michael">
              <label for="name_middle" class="form-label">{{ gettext("Middle Name") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="name_suffix" name="name_suffix" placeholder="Mr.">
              <label for="name_suffix" class="form-label">{{ gettext("Suffix") }}</label>
            </fieldset>
          </div>
          <div class="col-8 mx-auto text-center">
            <fieldset class="form-floating">
              <input type="number" class="form-control" id="ssn" name="ssn" minlength="4" maxlength="4" pattern="^\d{4}$" placeholder="0000" required digits>
              <label for="ssn" class="form-label">{{ gettext("SSN (Last 4 Digits)") }}</label>
              <small class="form-text"><a href="{{ url_for('home.index', _anchor='faq_ssn') }}" target="_blank" rel="noopener">{{ gettext("Why?") }}</a></small>
            </fieldset>
          </div>
        </div>
        <hr style="border-top: dotted 1px;" />
      </div>


      <!-- Registered to Vote Address -->
      <div class="card-body border-dark rounded-0">
        <div class="row mx-auto g-3">
          <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
            <h3 class="text-capitalize">{{ gettext("Where are you registered to vote?") }}</h3>
            <p>{{ gettext("Your residence address is where you live and are registered to vote.") }}</p>
          </div>
          <!-- <div class="col-8">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="us-autocomplete-pro-address-input" name="us-autocomplete-pro-address-input" placeholder="{{ gettext('Example: 123 Main St, Fairfax, VA 12345') }}" required>
              <ul class="us-autocomplete-pro-menu" style="display:none; position:absolute; z-index:2;"></ul>
              <label for="us-autocomplete-pro-address-input" class="form-label">{{ gettext("Full Address") }}</label>
            </fieldset>
          </div>
          <div class="col-4">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="apt" name="apt" placeholder="204">
              <label for="apt" class="form-label">{{ gettext("Apartment") }}</label>
            </fieldset>
          </div> -->

          <!-- <div class="d-none">
            <fieldset class="mx-auto col-lg-8 col-md-8 col-sm-12 col-xs-12 text-center">
              <label for="address" class="form-label">{{ gettext("Street Address") }}</label>
              <input type="hidden" class="form-control" id="address" name="address" autocomplete="street-address" required>
            </fieldset>
            <fieldset class="mx-auto col-lg-8 col-md-8 col-sm-12 col-xs-12 text-center">
              <label for="city" class="form-label">{{ gettext("City") }}</label>
              <input type="hidden" class="form-control" id="city" name="city" autocomplete="address-level2" required>
            </fieldset>
            <fieldset class="mx-auto col-lg-4 col-md-4 col-sm-12 col-xs-12 text-center">
              <label for="zip" class="form-label">{{ gettext("ZIP Code") }}</label>
              <input type="hidden" class="form-control" id="zip" name="zip" minlength="5" maxlength="5" pattern="^\d{5}$" digits autocomplete="postal-code" required>
            </fieldset>

            <fieldset class="mx-auto col-lg-6 col-md-6 col-sm-12 col-xs-12 text-center">
              <label for="registered_county" class="form-label">{{ gettext("I am registered to vote in:") }}</label>
              <input type="hidden" class="form-control" id="registered_county" name="registered_county" required>
            </fieldset>

            <fieldset class="mx-auto col-lg-6 col-md-6 col-sm-12 col-xs-12 text-center">
              <label for="lat" class="form-label">{{ gettext("Latitude") }}</label>
              <input type="text" class="form-control" id="lat" name="lat">
            </fieldset>

            <fieldset class="mx-auto col-lg-6 col-md-6 col-sm-12 col-xs-12 text-center">
              <label for="long" class="form-label">{{ gettext("Longitude") }}</label>
              <input type="text" class="form-control" id="long" name="long">
            </fieldset>
          </div> -->
          <div class="col-8">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="address" name="address" autocomplete="street-address" required>
              <label for="address" class="form-label">{{ gettext("Street Address") }}</label>
            </fieldset>
          </div>
          <div class="col-4">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="apt" name="apt" placeholder="204">
              <label for="apt" class="form-label">{{ gettext("Apartment") }}</label>
            </fieldset>
          </div>
          <div class="col-4">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="city" name="city" autocomplete="address-level2" required>
              <label for="city" class="form-label">{{ gettext("City") }}</label>
            </fieldset>
          </div>
          <div class="col-4">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="zip" name="zip" minlength="5" maxlength="5" pattern="^\d{5}$" digits autocomplete="postal-code" required>
              <label for="zip" class="form-label">{{ gettext("ZIP Code") }}</label>
            </fieldset>
          </div>
          <div class="col-4">
            <fieldset class="form-floating">
              <select class="form-control" id="registered_county" name="registered_county" required>
                <option value="">Choose county...</option>
                <option value="Accomack County">Accomack County</option>
                <option value="Albemarle County">Albemarle County</option>
                <option value="Alexandria City">Alexandria City</option>
                <option value="Alleghany County">Alleghany County</option>
                <option value="Amelia County">Amelia County</option>
                <option value="Amherst County">Amherst County</option>
                <option value="Appomattox County">Appomattox County</option>
                <option value="Arlington County">Arlington County</option>
                <option value="Augusta County">Augusta County</option>
                <option value="Bath County">Bath County</option>
                <option value="Bedford County">Bedford County</option>
                <option value="Bland County">Bland County</option>
                <option value="Botetourt County">Botetourt County</option>
                <option value="Bristol City">Bristol City</option>
                <option value="Brunswick County">Brunswick County</option>
                <option value="Buchanan County">Buchanan County</option>
                <option value="Buckingham County">Buckingham County</option>
                <option value="Buena Vista City">Buena Vista City</option>
                <option value="Campbell County">Campbell County</option>
                <option value="Caroline County">Caroline County</option>
                <option value="Carroll County">Carroll County</option>
                <option value="Charles City County">Charles City County</option>
                <option value="Charlotte County">Charlotte County</option>
                <option value="Charlottesville City">Charlottesville City</option>
                <option value="Chesapeake City">Chesapeake City</option>
                <option value="Chesterfield County">Chesterfield County</option>
                <option value="Clarke County">Clarke County</option>
                <option value="Colonial Heights City">Colonial Heights City</option>
                <option value="Covington City">Covington City</option>
                <option value="Craig County">Craig County</option>
                <option value="Culpeper County">Culpeper County</option>
                <option value="Cumberland County">Cumberland County</option>
                <option value="Danville City">Danville City</option>
                <option value="Dickenson County">Dickenson County</option>
                <option value="Dinwiddie County">Dinwiddie County</option>
                <option value="Emporia City">Emporia City</option>
                <option value="Essex County">Essex County</option>
                <option value="Fairfax City">Fairfax City</option>
                <option value="Fairfax County">Fairfax County</option>
                <option value="Falls Church City">Falls Church City</option>
                <option value="Fauquier County">Fauquier County</option>
                <option value="Floyd County">Floyd County</option>
                <option value="Fluvanna County">Fluvanna County</option>
                <option value="Franklin City">Franklin City</option>
                <option value="Franklin County">Franklin County</option>
                <option value="Frederick County">Frederick County</option>
                <option value="Fredericksburg City">Fredericksburg City</option>
                <option value="Galax City">Galax City</option>
                <option value="Giles County">Giles County</option>
                <option value="Gloucester County">Gloucester County</option>
                <option value="Goochland County">Goochland County</option>
                <option value="Grayson County">Grayson County</option>
                <option value="Greene County">Greene County</option>
                <option value="Greensville County">Greensville County</option>
                <option value="Halifax County">Halifax County</option>
                <option value="Hampton City">Hampton City</option>
                <option value="Hanover County">Hanover County</option>
                <option value="Harrisonburg City">Harrisonburg City</option>
                <option value="Henrico County">Henrico County</option>
                <option value="Henry County">Henry County</option>
                <option value="Highland County">Highland County</option>
                <option value="Hopewell City">Hopewell City</option>
                <option value="Isle Of Wight County">Isle Of Wight County</option>
                <option value="James City County">James City County</option>
                <option value="King & Queen County">King & Queen County</option>
                <option value="King George County">King George County</option>
                <option value="King William County">King William County</option>
                <option value="Lancaster County">Lancaster County</option>
                <option value="Lee County">Lee County</option>
                <option value="Lexington City">Lexington City</option>
                <option value="Loudoun County">Loudoun County</option>
                <option value="Louisa County">Louisa County</option>
                <option value="Lunenburg County">Lunenburg County</option>
                <option value="Lynchburg City">Lynchburg City</option>
                <option value="Madison County">Madison County</option>
                <option value="Manassas City">Manassas City</option>
                <option value="Manassas Park City">Manassas Park City</option>
                <option value="Martinsville City">Martinsville City</option>
                <option value="Mathews County">Mathews County</option>
                <option value="Mecklenburg County">Mecklenburg County</option>
                <option value="Middlesex County">Middlesex County</option>
                <option value="Montgomery County">Montgomery County</option>
                <option value="Nelson County">Nelson County</option>
                <option value="New Kent County">New Kent County</option>
                <option value="Newport News City">Newport News City</option>
                <option value="Norfolk City">Norfolk City</option>
                <option value="Northampton County">Northampton County</option>
                <option value="Northumberland County">Northumberland County</option>
                <option value="Norton City">Norton City</option>
                <option value="Nottoway County">Nottoway County</option>
                <option value="Orange County">Orange County</option>
                <option value="Page County">Page County</option>
                <option value="Patrick County">Patrick County</option>
                <option value="Petersburg City">Petersburg City</option>
                <option value="Pittsylvania County">Pittsylvania County</option>
                <option value="Poquoson City">Poquoson City</option>
                <option value="Portsmouth City">Portsmouth City</option>
                <option value="Powhatan County">Powhatan County</option>
                <option value="Prince Edward County">Prince Edward County</option>
                <option value="Prince George County">Prince George County</option>
                <option value="Prince William County">Prince William County</option>
                <option value="Pulaski County">Pulaski County</option>
                <option value="Radford City">Radford City</option>
                <option value="Rappahannock County">Rappahannock County</option>
                <option value="Richmond City">Richmond City</option>
                <option value="Richmond County">Richmond County</option>
                <option value="Roanoke City">Roanoke City</option>
                <option value="Roanoke County">Roanoke County</option>
                <option value="Rockbridge County">Rockbridge County</option>
                <option value="Rockingham County">Rockingham County</option>
                <option value="Russell County">Russell County</option>
                <option value="Salem City">Salem City</option>
                <option value="Scott County">Scott County</option>
                <option value="Shenandoah County">Shenandoah County</option>
                <option value="Smyth County">Smyth County</option>
                <option value="Southampton County">Southampton County</option>
                <option value="Spotsylvania County">Spotsylvania County</option>
                <option value="Stafford County">Stafford County</option>
                <option value="Staunton City">Staunton City</option>
                <option value="Suffolk City">Suffolk City</option>
                <option value="Surry County">Surry County</option>
                <option value="Sussex County">Sussex County</option>
                <option value="Tazewell County">Tazewell County</option>
                <!-- <option value="Testing County">Testing County</option> -->
                <option value="Virginia Beach City">Virginia Beach City</option>
                <option value="Warren County">Warren County</option>
                <option value="Washington County">Washington County</option>
                <option value="Waynesboro City">Waynesboro City</option>
                <option value="Westmoreland County">Westmoreland County</option>
                <option value="Williamsburg City">Williamsburg City</option>
                <option value="Winchester City">Winchester City</option>
                <option value="Wise County">Wise County</option>
                <option value="Wythe County">Wythe County</option>
                <option value="York County">York County</option>
              </select>
              <label for="registered_county" class="form-label">{{ gettext("County:") }}</label>
            </fieldset>
          </div>

        </div>
        <hr style="border-top: dotted 1px;" />
      </div>

      <!-- Vote in all elections in calendar year? -->
      <div class="card-body border-dark rounded-0">
        <div class="row mx-auto">
          <fieldset class="form-check">
            <input class="form-check-input" type="checkbox" id="permanent_absentee" name="permanent_absentee" {% if config.UPCOMING_ELECTIONS %}checked{% endif %}>
            <label class="form-check-label" for="permanent_absentee" class="form-label">
              {{ gettext("I'd like to vote by mail for all future elections until I instruct otherwise.") }}
            </label>
          </fieldset>
        </div>

        <fieldset class="mx-auto" id="permanent_absentee_div">
          <legend class="text-center col-form-label">{{ gettext("Which party primary ballots would you like to receive?") }}</legend>
          <div class="form-check mb-3">
            <input type="radio" value="democratic" id="permanent_absentee_democratic" name="permanent_absentee_primary_party">
            <label for="permanent_absentee_democratic" class="form-label">
              {{ gettext("Democratic Party") }}
            </label>
          </div>

          <div class="form-check mb-3">
            <input type="radio" value="republican" id="permanent_absentee_republican" name="permanent_absentee_primary_party">
            <label for="permanent_absentee_republican" class="form-label">
              {{ gettext("Republican Party") }}
            </label>
          </div>

          <div class="form-check mb-3">
            <input type="radio" value="no_primary" id="permanent_absentee_no_primary" name="permanent_absentee_primary_party">
            <label for="permanent_absentee_no_primary" class="form-label">
              {{ gettext("I do not wish to receive ballots for Primary Elections.") }}
            </label>
          </div>

          <hr style="border-top: dotted 1px;" />
        </fieldset>
      </div>

      <!-- Which Election -->
      {% if config.UPCOMING_ELECTIONS %}
      <div class="card-body border-dark rounded-0" id="one_election_div">
        <div class="row mx-auto g-3">
          <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
            <p>{{ gettext("Which election would you like to request an absentee ballot for?") }}</p>
            <p>{{ gettext("You can view the") }} <a target="_blank" rel="noopener" href="https://www.elections.virginia.gov/casting-a-ballot/calendars-schedules/upcoming-elections.html">{{ gettext("official list of upcoming elections here") }}</a>.</p>
          </div>
          <fieldset class="mx-auto" id="election_type_div">
            <legend class="text-center col-form-label">{{ gettext("I am applying to vote by mail in the: ") }}</legend>
            <div class="form-check mb-3">
              <input type="radio" value="general_special" id="election_type_general_special" name="election_type">
              <label for="election_type_general_special">
                {{ gettext("General or Special Election") }}
              </label>
            </div>

            <div class="form-check mb-3">
              <input type="radio" value="democratic" id="election_type_democratic" name="election_type">
              <label for="election_type_democratic">
                {{ gettext("Democratic Primary") }}
              </label>
            </div>

            <div class="form-check mb-3">
              <input type="radio" value="republican" id="election_type_republican" name="election_type">
              <label for="election_type_republican" class="form-label">
                {{ gettext("Republican Primary") }}
              </label>
            </div>
          </fieldset>
          <div class="col-lg">
            <fieldset class="form-floating mx-auto">
              <select class="form-select" name="election_date" id="election_date_select">
                <!-- TODO: when `len(config.UPCOMING_ELECTIONS) == 1` default to only election -->
                <option value="" selected disabled>--{{ gettext("Please select a date") }} (YYYY-MM-DD)--</option>
                {% for date in config.UPCOMING_ELECTIONS %}
                  <option value="{{ date }}">{{ date }}</option>
                {% endfor %}
              </select>
              <label class="text-center form-label" for="election_date_select">{{ gettext("Election date:") }}</label>
            </fieldset>
          </div>
          <!-- <div>
            not needed? just use registered_county
            <p class="text-center">{{ gettext("in the city/county of:") }}</p>
            <fieldset class="form-floating mx-auto">
              <select class="form-select" name="election_locality" id="election_locality_select">
                TODO: default to `registered_county`?
                <option value="" selected disabled>--{{ gettext("Please select a city/county") }}--</option>
                {% for locality in config.LOCALITIES %}
                  <option value="{{ locality }}">{{ locality }}</option>
                {% endfor %}
              </select>
              <label class="text-center form-label" for="election_locality_select">{{ gettext("Election locality:") }}</label>
            </fieldset>
          </div> -->
        </div>

        <hr style="border-top: dotted 1px;" />
      </div>
      {% endif %}


      <!-- TODO: hide when permanent_absentee is checked -->
      <!-- Where to Deliver? -->
      <div class="card-body border-dark rounded-0" id="ballot_address">
        <div class="row mx-auto">
          <!-- <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="text-center text-capitalize">Different Delivery Address</h3>
          </div> -->
          <fieldset class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="ballot_address_check" name="ballot_address_check">
            <label class="form-check-label" for="ballot_address_check">
              {{ gettext("I'd like for my absentee ballot to be delivered to a different address than the address where I'm registered to vote.") }}
            </label>
          </fieldset>
        </div>

        <div class="row mx-auto g-3" id="ballot_address_div">
          <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="ballot_address" name="ballot_address" placeholder="123 Main St">
              <label for="ballot_address" class="form-label">{{ gettext("Street Address") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="ballot_apt" name="ballot_apt" placeholder="204">
              <label for="ballot_apt" class="form-label">{{ gettext("Apartment") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="ballot_city" name="ballot_city" placeholder="Alexandria">
              <label for="ballot_city" class="form-label">{{ gettext("City") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="ballot_zip" name="ballot_zip" placeholder="22312">
              <label for="ballot_zip" class="form-label">{{ gettext("ZIP Code") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <select name="ballot_state" id="ballot_state" class="form-control state" autocomplete="address-level1">
                <option value="">{{ gettext("Choose state") }}&hellip;</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AS">American Samoa</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="GU">Guam</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MH">Marshall Islands</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="FM">Micronesia</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="MP">Northern Marianas</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PW">Palau</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="VI">Virgin Islands</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
              <label for="ballot_state" class="control-label state">{{ gettext("State") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <select name="ballot_country" id="ballot_country" class="form-control" autocomplete="country">
                <option value="Afghanistan">Afghanistan</option>
                <option value="Åland Islands">Åland Islands</option>
                <option value="Albania">Albania</option>
                <option value="Algeria">Algeria</option>
                <option value="American Samoa">American Samoa</option>
                <option value="Andorra">Andorra</option>
                <option value="Angola">Angola</option>
                <option value="Anguilla">Anguilla</option>
                <option value="Antarctica">Antarctica</option>
                <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                <option value="Argentina">Argentina</option>
                <option value="Armenia">Armenia</option>
                <option value="Aruba">Aruba</option>
                <option value="Australia">Australia</option>
                <option value="Austria">Austria</option>
                <option value="Azerbaijan">Azerbaijan</option>
                <option value="Bahamas">Bahamas</option>
                <option value="Bahrain">Bahrain</option>
                <option value="Bangladesh">Bangladesh</option>
                <option value="Barbados">Barbados</option>
                <option value="Belarus">Belarus</option>
                <option value="Belgium">Belgium</option>
                <option value="Belize">Belize</option>
                <option value="Benin">Benin</option>
                <option value="Bermuda">Bermuda</option>
                <option value="Bhutan">Bhutan</option>
                <option value="Bolivia, Plurinational State of">Bolivia, Plurinational State of</option>
                <option value="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
                <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                <option value="Botswana">Botswana</option>
                <option value="Bouvet Island">Bouvet Island</option>
                <option value="Brazil">Brazil</option>
                <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
                <option value="Brunei Darussalam">Brunei Darussalam</option>
                <option value="Bulgaria">Bulgaria</option>
                <option value="Burkina Faso">Burkina Faso</option>
                <option value="Burundi">Burundi</option>
                <option value="Cambodia">Cambodia</option>
                <option value="Cameroon">Cameroon</option>
                <option value="Canada">Canada</option>
                <option value="Cape Verde">Cape Verde</option>
                <option value="Cayman Islands">Cayman Islands</option>
                <option value="Central African Republic">Central African Republic</option>
                <option value="Chad">Chad</option>
                <option value="Chile">Chile</option>
                <option value="China">China</option>
                <option value="Christmas Island">Christmas Island</option>
                <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
                <option value="Colombia">Colombia</option>
                <option value="Comoros">Comoros</option>
                <option value="Congo">Congo</option>
                <option value="Congo, the Democratic Republic of the">Congo, the Democratic Republic of the</option>
                <option value="Cook Islands">Cook Islands</option>
                <option value="Costa Rica">Costa Rica</option>
                <option value="Côte d'Ivoire">Côte d'Ivoire</option>
                <option value="Croatia">Croatia</option>
                <option value="Cuba">Cuba</option>
                <option value="Curaçao">Curaçao</option>
                <option value="Cyprus">Cyprus</option>
                <option value="Czech Republic">Czech Republic</option>
                <option value="Denmark">Denmark</option>
                <option value="Djibouti">Djibouti</option>
                <option value="Dominica">Dominica</option>
                <option value="Dominican Republic">Dominican Republic</option>
                <option value="Ecuador">Ecuador</option>
                <option value="Egypt">Egypt</option>
                <option value="El Salvador">El Salvador</option>
                <option value="Equatorial Guinea">Equatorial Guinea</option>
                <option value="Eritrea">Eritrea</option>
                <option value="Estonia">Estonia</option>
                <option value="Ethiopia">Ethiopia</option>
                <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
                <option value="Faroe Islands">Faroe Islands</option>
                <option value="Fiji">Fiji</option>
                <option value="Finland">Finland</option>
                <option value="France">France</option>
                <option value="French Guiana">French Guiana</option>
                <option value="French Polynesia">French Polynesia</option>
                <option value="French Southern Territories">French Southern Territories</option>
                <option value="Gabon">Gabon</option>
                <option value="Gambia">Gambia</option>
                <option value="Georgia">Georgia</option>
                <option value="Germany">Germany</option>
                <option value="Ghana">Ghana</option>
                <option value="Gibraltar">Gibraltar</option>
                <option value="Greece">Greece</option>
                <option value="Greenland">Greenland</option>
                <option value="Grenada">Grenada</option>
                <option value="Guadeloupe">Guadeloupe</option>
                <option value="Guam">Guam</option>
                <option value="Guatemala">Guatemala</option>
                <option value="Guernsey">Guernsey</option>
                <option value="Guinea">Guinea</option>
                <option value="Guinea-Bissau">Guinea-Bissau</option>
                <option value="Guyana">Guyana</option>
                <option value="Haiti">Haiti</option>
                <option value="Heard Island and McDonald Islands">Heard Island and McDonald Islands</option>
                <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
                <option value="Honduras">Honduras</option>
                <option value="Hong Kong">Hong Kong</option>
                <option value="Hungary">Hungary</option>
                <option value="Iceland">Iceland</option>
                <option value="India">India</option>
                <option value="Indonesia">Indonesia</option>
                <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
                <option value="Iraq">Iraq</option>
                <option value="Ireland">Ireland</option>
                <option value="Isle of Man">Isle of Man</option>
                <option value="Israel">Israel</option>
                <option value="Italy">Italy</option>
                <option value="Jamaica">Jamaica</option>
                <option value="Japan">Japan</option>
                <option value="Jersey">Jersey</option>
                <option value="Jordan">Jordan</option>
                <option value="Kazakhstan">Kazakhstan</option>
                <option value="Kenya">Kenya</option>
                <option value="Kiribati">Kiribati</option>
                <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
                <option value="Korea, Republic of">Korea, Republic of</option>
                <option value="Kuwait">Kuwait</option>
                <option value="Kyrgyzstan">Kyrgyzstan</option>
                <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
                <option value="Latvia">Latvia</option>
                <option value="Lebanon">Lebanon</option>
                <option value="Lesotho">Lesotho</option>
                <option value="Liberia">Liberia</option>
                <option value="Libya">Libya</option>
                <option value="Liechtenstein">Liechtenstein</option>
                <option value="Lithuania">Lithuania</option>
                <option value="Luxembourg">Luxembourg</option>
                <option value="Macao">Macao</option>
                <option value="Macedonia, the former Yugoslav Republic of">Macedonia, the former Yugoslav Republic of</option>
                <option value="Madagascar">Madagascar</option>
                <option value="Malawi">Malawi</option>
                <option value="Malaysia">Malaysia</option>
                <option value="Maldives">Maldives</option>
                <option value="Mali">Mali</option>
                <option value="Malta">Malta</option>
                <option value="Marshall Islands">Marshall Islands</option>
                <option value="Martinique">Martinique</option>
                <option value="Mauritania">Mauritania</option>
                <option value="Mauritius">Mauritius</option>
                <option value="Mayotte">Mayotte</option>
                <option value="Mexico">Mexico</option>
                <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
                <option value="Moldova, Republic of">Moldova, Republic of</option>
                <option value="Monaco">Monaco</option>
                <option value="Mongolia">Mongolia</option>
                <option value="Montenegro">Montenegro</option>
                <option value="Montserrat">Montserrat</option>
                <option value="Morocco">Morocco</option>
                <option value="Mozambique">Mozambique</option>
                <option value="Myanmar">Myanmar</option>
                <option value="Namibia">Namibia</option>
                <option value="Nauru">Nauru</option>
                <option value="Nepal">Nepal</option>
                <option value="Netherlands">Netherlands</option>
                <option value="New Caledonia">New Caledonia</option>
                <option value="New Zealand">New Zealand</option>
                <option value="Nicaragua">Nicaragua</option>
                <option value="Niger">Niger</option>
                <option value="Nigeria">Nigeria</option>
                <option value="Niue">Niue</option>
                <option value="Norfolk Island">Norfolk Island</option>
                <option value="Northern Mariana Islands">Northern Mariana Islands</option>
                <option value="Norway">Norway</option>
                <option value="Oman">Oman</option>
                <option value="Pakistan">Pakistan</option>
                <option value="Palau">Palau</option>
                <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
                <option value="Panama">Panama</option>
                <option value="Papua New Guinea">Papua New Guinea</option>
                <option value="Paraguay">Paraguay</option>
                <option value="Peru">Peru</option>
                <option value="Philippines">Philippines</option>
                <option value="Pitcairn">Pitcairn</option>
                <option value="Poland">Poland</option>
                <option value="Portugal">Portugal</option>
                <option value="Puerto Rico">Puerto Rico</option>
                <option value="Qatar">Qatar</option>
                <option value="Réunion">Réunion</option>
                <option value="Romania">Romania</option>
                <option value="Russian Federation">Russian Federation</option>
                <option value="Rwanda">Rwanda</option>
                <option value="Saint Barthélemy">Saint Barthélemy</option>
                <option value="Saint Helena, Ascension and Tristan da Cunha">Saint Helena, Ascension and Tristan da Cunha</option>
                <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                <option value="Saint Lucia">Saint Lucia</option>
                <option value="Saint Martin (French part)">Saint Martin (French part)</option>
                <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
                <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
                <option value="Samoa">Samoa</option>
                <option value="San Marino">San Marino</option>
                <option value="Sao Tome and Principe">Sao Tome and Principe</option>
                <option value="Saudi Arabia">Saudi Arabia</option>
                <option value="Senegal">Senegal</option>
                <option value="Serbia">Serbia</option>
                <option value="Seychelles">Seychelles</option>
                <option value="Sierra Leone">Sierra Leone</option>
                <option value="Singapore">Singapore</option>
                <option value="Sint Maarten (Dutch part)">Sint Maarten (Dutch part)</option>
                <option value="Slovakia">Slovakia</option>
                <option value="Slovenia">Slovenia</option>
                <option value="Solomon Islands">Solomon Islands</option>
                <option value="Somalia">Somalia</option>
                <option value="South Africa">South Africa</option>
                <option value="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
                <option value="South Sudan">South Sudan</option>
                <option value="Spain">Spain</option>
                <option value="Sri Lanka">Sri Lanka</option>
                <option value="Sudan">Sudan</option>
                <option value="Suriname">Suriname</option>
                <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
                <option value="Swaziland">Swaziland</option>
                <option value="Sweden">Sweden</option>
                <option value="Switzerland">Switzerland</option>
                <option value="Syrian Arab Republic">Syrian Arab Republic</option>
                <option value="Taiwan, Province of China">Taiwan, Province of China</option>
                <option value="Tajikistan">Tajikistan</option>
                <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
                <option value="Thailand">Thailand</option>
                <option value="Timor-Leste">Timor-Leste</option>
                <option value="Togo">Togo</option>
                <option value="Tokelau">Tokelau</option>
                <option value="Tonga">Tonga</option>
                <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                <option value="Tunisia">Tunisia</option>
                <option value="Turkey">Turkey</option>
                <option value="Turkmenistan">Turkmenistan</option>
                <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
                <option value="Tuvalu">Tuvalu</option>
                <option value="Uganda">Uganda</option>
                <option value="Ukraine">Ukraine</option>
                <option value="United Arab Emirates">United Arab Emirates</option>
                <option value="United Kingdom">United Kingdom</option>
                <option value="United States" selected>United States</option>
                <option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
                <option value="Uruguay">Uruguay</option>
                <option value="Uzbekistan">Uzbekistan</option>
                <option value="Vanuatu">Vanuatu</option>
                <option value="Venezuela, Bolivarian Republic of">Venezuela, Bolivarian Republic of</option>
                <option value="Viet Nam">Viet Nam</option>
                <option value="Virgin Islands, British">Virgin Islands, British</option>
                <option value="Virgin Islands, U.S.">Virgin Islands, U.S.</option>
                <option value="Wallis and Futuna">Wallis and Futuna</option>
                <option value="Western Sahara">Western Sahara</option>
                <option value="Yemen">Yemen</option>
                <option value="Zambia">Zambia</option>
                <option value="Zimbabwe">Zimbabwe</option>
              </select>
              <label for="ballot_country" class="form-label">{{ gettext("Country") }}</label>
            </fieldset>
          </div>
        </div>
        <hr style="border-top: dotted 1px;" />
      </div>

      <!-- Assistance -->
      <div class="card-body border-dark rounded-0">
        <div class="row mx-auto">
          <!-- <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="text-center text-capitalize">Assistance to Vote</h3>
          </div> -->
          <fieldset class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="assistance_check" name="assistance_check">
            <label class="form-check-label" for="assistance_check">
              {{ gettext("I will need assistance in completing my ballot due to a disability, blindness, or inability to read or write. If checked, assistance form will be provided with ballot.") }}
            </label>
          </fieldset>
        </div>

        <div class="row mx-auto g-3" id="assistance_div">
          <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_name" name="assistant_name" autocomplete="new-password" placeholder="John Doe">
              <label for="assistant_name" class="form-label">{{ gettext("Assistant Full Name") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_address" name="assistant_address" placeholder="123 Main St">
              <label for="assistant_address" class="form-label">{{ gettext("Assistant Street Address") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_apt" name="assistant_apt" placeholder="204">
              <label for="assistant_apt" class="form-label">{{ gettext("Assistant Apartment") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_city" name="assistant_city" placeholder="Alexandria">
              <label for="assistant_city" class="form-label">{{ gettext("Assistant City") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_state" name="assistant_state" placeholder="Virginia">
              <label for="assistant_state" class="form-label">{{ gettext("Assistant State") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="assistant_zip" name="assistant_zip" minlength="5" maxlength="5" pattern="^\d{5}$" digits placeholder="22312">
              <label for="assistant_zip" class="form-label">{{ gettext("Assistant ZIP Code") }}</label>
            </fieldset>
          </div>
          <fieldset class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="assistance_signature_check" name="assistance_signature_check">
            <label class="form-check-label" for="assistance_signature_check">
              {{ gettext("I swear/affirm, under felony penalty for making willfully false material statements, that the information I have provided on this form is true and I have written on the Applicant's signature line \"Applicant Unable to Sign.\"") }}
            </label>
          </fieldset>
        </div>

        <hr style="border-top: dotted 1px;" />
      </div>

      <div class="card-body rounded-0 border-dark">
        <div class="row mx-auto">
          <!-- <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="text-center text-capitalize">Change to Address/Name</h3>
          </div> -->
          <fieldset class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="change_check" name="change_check">
            <label class="form-check-label" for="change_check">
              {{ gettext("I have changed my residence address or legal name since the last time I voted.") }}
            </label>
          </fieldset>
          <div class="row mx-auto g-3" id="change_div">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <fieldset class="form-floating">
                <input type="text" class="form-control" id="former_name" name="former_name" placeholder="John Doe">
                <label for="former_name" class="form-label">{{ gettext("Former Full Name") }}</label>
              </fieldset>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <fieldset class="form-floating">
                <input type="text" class="form-control" id="former_address" name="former_address" placeholder="123 Main St # 204">
                <label for="former_address" class="form-label">{{ gettext("Former Address") }}</label>
              </fieldset>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <fieldset class="form-floating">
                <input type="date" class="form-control" id="date_moved" name="date_moved" placeholder="MM/DD/YY" autocomplete="new-password">
                <label for="date_moved" class="form-label">{{ gettext("Date Moved") }}</label>
              </fieldset>
            </div>
          </div>
        </div>
        <hr style="border-top: dotted 1px;" />
      </div>



      <!-- Contact Info -->
      <div class="card-body border-dark rounded-0">
        <div class="row mx-auto g-3">
          <fieldset class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
            <h3 class="text-capitalize">{{ gettext("Contact Info") }}</h3>
            <p>{{ gettext("Your email address is required to send you a copy of your application.") }}</p>
          </fieldset>
          <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="email" class="form-control" id="email" name="email" autocomplete="email" placeholder="john.doe@example.com" required>
              <label for="email" class="form-label">{{ gettext("Email Address") }}</label>
            </fieldset>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            <fieldset class="form-floating">
              <input type="tel" class="form-control" id="phonenumber" name="phonenumber" autocomplete="tel" minlength="10" maxlength="12" placeholder="7035550100" data-inputmask="'mask': '999-999-9999'">
              <label for="phonenumber" class="form-label">{{ gettext("Phone Number") }}</label>
            </fieldset>
          </div>
        </div>
        <hr style="border-top: dotted 1px;" />
      </div>

      <!-- Applicant Signature -->
      <div class="card-body border-dark rounded-0">
        <div class="row mx-auto g-3">
          <div class="mx-auto col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <h3 class="text-center text-capitalize">{{ gettext("Applicant Signature") }}</h3>
          </div>
          <fieldset class="form-check">
            <input class="form-check-input form-control" type="checkbox" value="" id="sig_check" name="sig_check" required>
            <label class="form-check-label" for="sig_check">
              {% trans %}
              I swear/affirm, subject to felony penalties for making false statements pursuant to VA Code § <a href="https://law.lis.virginia.gov/vacode/24.2-1016/">24.2-1016</a>, that
              (1) the information provided in this form is true,
              (2) I am not requesting a ballot or voting in any other jurisdictions in the US,
              (3) I am registered to vote in the city/county where I am applying to vote, and
              (4) if I checked the box to vote by mail for the calendar year, I will likely remain eligible to vote throughout the calendar year.
              {% endtrans %}
            </label>
          </fieldset>
          <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 mx-auto">
            <fieldset class="form-floating">
              <input type="text" class="form-control" id="signature" name="signature" required placeholder="John Doe" autocomplete="name">
              <label for="signature" class="form-label">{{ gettext("Applicant Name") }}</label>
            </fieldset>
          </div>
        </div>
      </div>


      <!-- <hr style="border-top: dotted 1px;" /> -->
      <div class="card border-dark rounded-bottom col-6 mx-auto">
        <button class="bg-white" id="submit_button" type="submit">Submit</button>
      </div>

      <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">

    </form>
  </div>
</div>
{% endblock %}
